(this.webpackJsonppublic=this.webpackJsonppublic||[]).push([[0],{21:function(e,a,t){},66:function(e,a,t){"use strict";t.r(a);var c=t(1),r=t.n(c),n=t(32),s=t.n(n),o=t(9),i=t(2),l=(t(38),t(21),t(0));function d(){return Object(l.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark",children:Object(l.jsxs)("div",{className:"container-fluid",children:[Object(l.jsx)(o.b,{className:"navbar-brand",to:"/",children:"My books"}),Object(l.jsx)("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(l.jsx)("span",{className:"navbar-toggler-icon"})}),Object(l.jsx)("div",{className:"collapse navbar-collapse",id:"navbarNav",children:Object(l.jsx)("ul",{className:"navbar-nav ml-auto",children:Object(l.jsx)("li",{className:"nav-item",children:Object(l.jsx)(o.b,{className:"nav-link",to:"/products",children:"Productos"})})})})]})})}var j=t(10),b=t.n(j),u=t(13),m=t(8),p=t(14),x=t.n(p);function v(e){return Object(l.jsx)("div",{className:"datos",children:Object(l.jsxs)("div",{className:" text",children:["id: ",e.unProducto.id,Object(l.jsx)("br",{}),"nombre: ",e.unProducto.nombre,Object(l.jsx)("br",{}),"descripcion: ",e.unProducto.descripcion,Object(l.jsx)("br",{}),"precio: ",e.unProducto.precio]})})}var h=t(20),O=t.n(h);function f(){var e=r.a.useState(""),a=Object(m.a)(e,2),t=a[0],c=a[1],n=r.a.useState(""),s=Object(m.a)(n,2),o=s[0],d=s[1],j=r.a.useState(""),p=Object(m.a)(j,2),v=p[0],h=p[1],f=r.a.useState(""),N=Object(m.a)(f,2),g=N[0],y=N[1],k=r.a.useState(""),w=Object(m.a)(k,2),C=w[0],P=w[1],S=r.a.useState(""),E=Object(m.a)(S,2),B=E[0],I=E[1],J=Object(i.e)(),M=function(){var e=Object(u.a)(b.a.mark((function e(){var a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={nombre:t,descripcion:o,codigo:v,foto:g,precio:C,stock:B},e.prev=1,""!==a.nombre.trim()&&""!==a.descripcion.trim()&&""!==a.codigo.trim()&&""!==a.foto.trim()&&""!==a.precio.trim()&&""!==a.stock.trim()||O()({title:"Error: ",text:"faltan llenar campos",icon:"warning",buttons:["continuar",0]}).then((function(){})),e.next=5,x.a.post("/productos/agregar",a);case 5:200===(c=e.sent).status&&J.push("/products/saved/"+c.data.id+"/"+c.data.nombre),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),O()({title:"Error: ",text:e.t0.response.data.error,icon:"warning",buttons:["volver",0]}).then((function(){}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return Object(l.jsx)("div",{children:Object(l.jsx)("div",{className:"card",children:Object(l.jsxs)("div",{className:"card-body card-gender-new",children:[Object(l.jsx)("h5",{className:"card-title",children:"Agregar Producto"}),Object(l.jsx)("input",{type:"text",name:"nombre",placeholder:"nombre",className:"form-control",onChange:function(e){c(e.target.value)}}),Object(l.jsx)("input",{type:"text",name:"descripcion",placeholder:"descripcion",className:"form-control",onChange:function(e){d(e.target.value)}}),Object(l.jsx)("input",{type:"text",name:"codigo",placeholder:"codigo",className:"form-control",onChange:function(e){h(e.target.value)}}),Object(l.jsx)("input",{type:"text",name:"foto",placeholder:"foto",className:"form-control",onChange:function(e){y(e.target.value)}}),Object(l.jsx)("input",{type:"number",name:"precio",placeholder:"precio",className:"form-control",onChange:function(e){P(e.target.value)}}),Object(l.jsx)("input",{type:"number",name:"stock",placeholder:"stock",className:"form-control",onChange:function(e){I(e.target.value)}}),Object(l.jsx)("button",{className:"btn btn-primary",onClick:M,children:"Enviar"})]})})})}function N(){var e=r.a.useState("no"),a=Object(m.a)(e,2),t=a[0],c=a[1],n=r.a.useState([]),s=Object(m.a)(n,2),o=s[0],i=s[1];function d(){(function(){var e=Object(u.a)(b.a.mark((function e(){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("ingresa"),e.next=4,x.a.get("/productos/listar");case 4:a=e.sent,console.log(a),i(a.data),c("no"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),"no hay productos cargados"===e.t0.response.data.error&&i([]),c(e.t0.response.data.error);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}})()()}return r.a.useEffect((function(){d()}),[]),"no"===t?Object(l.jsxs)("div",{className:"flex-container",children:[Object(l.jsx)("div",{className:"col-md"}),Object(l.jsx)("div",{className:"col-md-3",children:o.map((function(e,a){return Object(l.jsx)("div",{children:Object(l.jsx)("div",{className:"col-md-10",children:Object(l.jsxs)("div",{className:"card",children:[Object(l.jsx)("div",{className:"card-body card-gender-new",children:Object(l.jsx)(v,{unProducto:e,index:a})}),Object(l.jsx)("div",{className:"card-footer",children:Object(l.jsx)("div",{className:"btn-group",role:"group","aria-label":"Basic Example",children:Object(l.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){return a=e.id,void function(){var e=Object(u.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.delete("/productos/borrar/"+a);case 3:d(),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),c(e.t0.response.data.error);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}()();var a},children:"Borrar"})})})]})})},a)}))}),Object(l.jsx)("div",{className:"col-md"}),Object(l.jsx)("div",{className:"col-md-4",children:Object(l.jsx)("div",{className:"col-md-6",children:Object(l.jsx)("div",{className:"formulario-agregar-genero",children:Object(l.jsx)(f,{})})})})]}):Object(l.jsxs)("div",{className:"flex-container",children:[Object(l.jsx)("div",{children:Object(l.jsx)("div",{className:"col-sm",children:Object(l.jsxs)("div",{className:"card",children:[Object(l.jsx)("div",{className:"card-body",children:Object(l.jsxs)("h5",{className:"card-title",children:["Error ",t]})}),Object(l.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){c(0),d()},children:"Volver"})]})})}),Object(l.jsx)("div",{className:"col-md-4",children:Object(l.jsx)("div",{className:"col-md-6",children:Object(l.jsx)("div",{className:"formulario-agregar-genero",children:Object(l.jsx)(f,{})})})})]})}function g(){var e=Object(i.f)();return Object(l.jsxs)("div",{className:"flex-container",children:[Object(l.jsx)("div",{className:"col-md"}),Object(l.jsx)("div",{className:"col-md-3",children:Object(l.jsxs)("div",{className:"card",children:[Object(l.jsxs)("div",{className:"card-body",children:[Object(l.jsx)("h5",{className:"card-title",children:"El Producto ha sido ingresado a la base de datos correctamente"}),Object(l.jsxs)("p",{className:"card-text",children:[" Id: ",e.id]}),Object(l.jsxs)("p",{className:"card-text",children:["   Producto: ",e.nombre]})]}),Object(l.jsx)("div",{className:"card-footer card-gender-new",children:Object(l.jsx)(o.b,{to:"/products",className:"btn btn-primary boton",children:"Volver"})})]})}),Object(l.jsx)("div",{className:"col-md"})]})}var y=function(){return Object(l.jsxs)(o.a,{children:[Object(l.jsx)(d,{}),Object(l.jsx)(i.a,{exact:!0,path:"/products",component:N}),Object(l.jsx)(i.a,{exact:!0,path:"/products/saved/:id/:nombre",component:g})]})};s.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(y,{})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.68826758.chunk.js.map